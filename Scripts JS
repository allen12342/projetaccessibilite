document.addEventListener('DOMContentLoaded', (event) => {
  const readTextButton = document.getElementById('readTextButton');
  let isReading = false;
  const synth = window.speechSynthesis;

  readTextButton.addEventListener('click', () => {
    if (isReading) {
      synth.cancel();
      readTextButton.textContent = 'Lire le texte';
    } else {
      const content = document.querySelector('main').textContent;
      const utterThis = new SpeechSynthesisUtterance(content);
      utterThis.lang = 'fr-FR';
      synth.speak(utterThis);
      readTextButton.textContent = 'ArrÃªter la lecture';

      utterThis.onend = () => {
        readTextButton.textContent = 'Lire le texte';
      };
    }
    isReading = !isReading;
  });
});
  